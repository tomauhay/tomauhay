<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tomauhay — Mẫu tô màu miễn phí cho bé (SVG/PDF)</title>
  <meta name="description" content="Kho tranh tô màu outline đen trắng (SVG/PDF) để in và luyện tập cho trẻ em. Một phần nội dung mở của Tomauhay nhằm chia sẻ miễn phí cho cộng đồng.">
  <link rel="canonical" href="https://tomauhay.com/">
  <meta name="robots" content="index,follow">

  <!-- Open Graph (nhẹ nhàng, không nhồi nhét) -->
  <meta property="og:title" content="Tomauhay — Mẫu tô màu miễn phí cho bé">
  <meta property="og:description" content="Bộ sưu tập tranh tô màu dạng outline, in dễ, luyện tập sáng tạo cho bé.">
  <meta property="og:type" content="website">

  <!-- Schema: WebSite -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url": "https://tomauhay.github.io/tomauhay/",
    "name": "Tomauhay - Coloring Pages",
    "sameAs": [
      "https://tomauhay.com/"
    ]
  }
  </script>

  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <h1>Tomauhay — Mẫu tô màu miễn phí cho bé</h1>
    <p class="lead">
      Kho tranh tô màu <b>outline đen trắng</b> (SVG/PDF) để in và luyện tập. 
      Xem đầy đủ tại <a href="https://tomauhay.com" rel="noopener">tomauhay.com</a>.
    </p>
  </header>

  <main>
    <section aria-labelledby="gallery-heading">
      <h2 id="gallery-heading">Bộ sưu tập mẫu</h2>
      <div id="gallery" class="grid" role="list" aria-live="polite"></div>
      <div id="status" class="status" aria-live="polite">Đang tải nội dung…</div>
      <noscript>Vui lòng bật JavaScript để xem thư viện tranh.</noscript>
    </section>

    <section aria-labelledby="about-heading" class="about">
      <h2 id="about-heading">Về dự án</h2>
      <p>
        Dự án <strong>Tomauhay</strong> được xây dựng như một phần nội dung mở trên GitHub, 
        chia sẻ một số mẫu tranh tô màu miễn phí cho cộng đồng phụ huynh &amp; giáo viên. 
        Tất cả file SVG trong kho này phát hành theo giấy phép <em>CC BY 4.0</em>.
      </p>
      <ul>
        <li>Không nhồi link, không spam — mục tiêu là nội dung hữu ích, <em>vệ tinh sạch</em> hỗ trợ thương hiệu.</li>
        <li>Một vài mẫu tiêu biểu hiển thị ở đây; bộ sưu tập đầy đủ tại trang chủ.</li>
      </ul>
    </section>
  </main>

  <footer class="site-footer">
    <small>© Tomauhay • Nội dung SVG trong repo phát hành theo CC BY 4.0 — ghi nguồn “tomauhay.com”.</small>
  </footer>

  <script>
  async function loadGallery() {
    const status = document.getElementById("status");
    const container = document.getElementById("gallery");
    try {
      const res = await fetch("../data/pages.json", { cache: "no-store" });
      if (!res.ok) throw new Error("Không tải được dữ liệu");
      const data = await res.json();

      // Xóa trạng thái
      status.textContent = "";

      // Vẽ thẻ
      data.items.forEach(it => {
        const card = document.createElement("article");
        card.className = "card";
        card.setAttribute("role", "listitem");

        const link = document.createElement("a");
        link.href = "../" + it.file;
        link.target = "_blank";
        link.rel = "noopener";
        link.setAttribute("aria-label", it.title + " — mở file tô màu (tab mới)");

        const img = document.createElement("img");
        img.src = "../" + it.file;
        img.alt = it.title + " — tranh tô màu outline";

        const title = document.createElement("h3");
        title.textContent = it.title;

        const meta = document.createElement("p");
        meta.className = "meta";
        const age = it.age ? `Độ tuổi: ${it.age}` : "";
        const tags = (it.tags && it.tags.length) ? `• Thẻ: ${it.tags.join(", ")}` : "";
        meta.textContent = [age, tags].filter(Boolean).join(" ");

        link.appendChild(img);
        card.appendChild(link);
        card.appendChild(title);
        card.appendChild(meta);
        container.appendChild(card);
      });

      if (!data.items || !data.items.length) {
        status.textContent = "Chưa có mẫu nào. Vui lòng thêm SVG vào /samples và cập nhật data/pages.json.";
      }
    } catch (err) {
      status.textContent = "Có lỗi khi tải dữ liệu. Thử lại sau.";
      console.error(err);
    }
  }

  loadGallery();
  </script>
</body>
</html>
